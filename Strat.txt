Общее правило: при нескольких условиях, если одно условие выше другого то 1 важнее 2 и т.д. 


Условия покупки:
1)Если один раз купил, то потом нужно продавать, нельзя купить 2 раза подряд
2)Если DI+ становится больше DI- и возрастание на данном баре, разница должна быть больше 10 между DI
3)Если ADX меньше на 1 на предыдущем баре, после возрастания DI- находится выше DI+ но разница между ними сокращается, а также на данный бар выше предыдущего или предыдущий бар выше своего предыдущего
4)Если DI- резко падал, DI+ возрастал а ADX при этом падал учитывая что DI- выше DI+
5)Если разница между предыдущим DI+ и нынешним +10 и ADX больше учитвыая что DI+ сверху
6)Если STC меньше 35

Условия продажи:
1)Если один раз продал, то потом нужно продавать, нельзя купить 2 раза подряд
2)При пересечении DI- на DI+
3)Когда ADX достиг пика и пошёл вниз уже 2 бара
4)Давать разные значения покупки, то есть помечать их чтобы смотреть как продавать 

b = 1 - обычная покупка
b = -1 - покупка с принудительным скипом продажи или её особенностями

Принудительный скип:
1)ночью с 00 до 10 утра